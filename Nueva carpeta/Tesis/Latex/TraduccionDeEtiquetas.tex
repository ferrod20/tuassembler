\section{Traducción de etiquetas} 
La información gramatical que Cobuild presenta en cada uno de sus ejemplos no posee un formato conocido ni pertenecen a ningún conjunto de etiquetas documentado.

Por ejemplo en la siguiente entrada:\\

\noindent
\begin{minipage}{\linewidth}
\begin{footnotesize}
\verb#DICTIONARY_ENTRY# \\
\verb#acid#  $\longrightarrow$ \textsl{palabra}\\
\verb#acids# $\longrightarrow$ \textsl{formas flexionadas}\\
\verb#*!as!id# $\longrightarrow$ \textsl{pronunciación}\\
\verb#An acid fruit or drink has a sour or sharp taste.# $\longrightarrow$ \textsl{definición}\\
\verb#These oranges are very acid.# $\longrightarrow$ \textsl{ejemplo}\\
\verb#qualitative adjective# $\longrightarrow$ \textsl{etiqueta específica}\\
\verb#adjective# $\longrightarrow$ \textsl{etiqueta general}\\ 
\end{footnotesize}
\end{minipage}

Podemos apreciar que la palabra \emph{acid} está anotada como \emph{qualitative adjective}. Notemos también la presencia de la anotación \emph{adjective}. Ésta es una etiqueta general mientras que \emph{qualitative adjective} es una etiqueta específica que brinda mayor información gramatical y sintáctica.

Como la idea de este trabajo es producir un corpus anotado a partir de este diccionario para utilizar como fuente de entrenamiento de etiquetadores gramaticales es necesario que el conjunto de etiquetas empleado sea el mismo que emplea el \emph{Gold Standard} para posteriormente  poder medir los resultados. En ese sentido se realizó la traducción de etiquetas \emph{Cobuild} en \emph{Penn Treebank}.

Para llevar a cabo este proceso se construyó una tabla de conversión. Se realizó un análisis sobre las entradas de \emph{Cobuild} arrojando como resultado la existencia de más de 4000 etiquetas diferentes. 

A partir de este hecho se identificaron las etiquetas \emph{Cobuild} que ocurren con mayor frecuencia y se seleccionó la etiqueta \emph{Penn Treebank} equivalente para cada una de ellas, obteniendo una tabla de traducción ad hoc que se presenta a continuación:

\begin{center}
\begin{longtable}{| l | l |}
\caption{Tabla de traducción de etiquetas}\\	
	\hline		
\textbf{Etiqueta Cobuild}	&	\textbf{Etiqueta Penn Treebank}\\	
\hline
\endhead
\hline
\endfoot
\endlastfoot
	\hline
 coordinating conjunction & CC \\
number & CD \\
determiner & DT \\
determiner + countable noun in singular & DT \\
preposition & IN \\
subordinating conjunction & IN \\
preposition, or adverb after verb & IN \\
preposition after noun & IN \\
adjective & JJ \\
classifying adjective & JJ \\
qualitative adjective & JJ \\
adjective colour & JJ \\
ordinal & JJ \\
adjective after noun & JJ \\
modal & MD \\
adverb & RB \\
noun & NN \\
uncountable noun & NN \\
noun singular & NN \\
countable or uncountable noun & NN \\
countable noun with supporter & NN \\
uncountable or countable noun & NN \\
noun singular with determiner & NN \\
mass noun & NN \\
uncountable noun with supporter & NN \\
partitive noun & NN \\
noun singular with determiner with supporter & NN \\
countable noun + of & NN \\
countable noun, or by + noun & NN \\
countable noun or partitive noun & NN \\
count or uncountable noun & NN \\
countable noun or vocative & NN \\
partitive noun + uncountable noun & NN \\
noun singular with determiner + of & NN \\
noun in titles & NN \\
noun vocative & NN \\
uncountable noun + of & NN \\
indefinite pronoun & NN \\
uncountable noun, or noun singular & NN \\
countable noun, or in + noun & NN \\
partitive noun + noun in plural & NN \\
countable or uncountable noun with supporter & NN \\
uncountable noun, or noun before noun & NN \\
uncountable or countable noun with supporter & NN \\
noun before noun & NN \\
noun plural with supporter & NNP \\
noun in names & NNP \\
proper noun or vocative & NNP \\
proper noun & NNP \\
noun plural & NNS \\
predeterminer & PDT \\
pronoun & PP \\
possessive & PPS \\
adverb with verb & RB \\
adverb after verb & RB \\
sentence adverb & RB \\
adverb + adjective or adverb & RB \\
adverb + adjective & RB \\
preposition or adverb & RB \\
adverb after verb, or classifying adjective & RB \\
adverb or sentence adverb & RB \\
adverb with verb, or sentence adverb & RB \\
exclamation & UH \\
exclam & UH \\
verb & VB \\
verb + object & VB \\
verb or verb + object & VB \\
ergative verb & VB \\
verb + adjunct & VB \\
verb + object + adjunct & VB \\
verb + object (noun group or reflexive) & VB \\
verb + object or reporting clause & VB \\
verb + object (reflexive) & VB \\
verb + object, or phrasal verb & VB \\
verb + to-infinitive & VB \\
ergative verb + adjunct & VB \\
verb + object + adjunct (to) & VB \\
verb + object, or verb + adjunct & VB \\
verb + object + adjunct (with) & VB \\
verb + adjunct (with) & VB \\
verb + complement & VB \\
verb + object, or verb & VB \\
verb + object + to-infinitive & VB \\
verb + reporting clause & VB \\
verb or ergative verb & VB \\
verb + adjunct (from) & VB \\
wh: used as determiner & WDT \\
wh: used as relative pronoun & WP \\
wh: used as pronoun & WP \\
wh: used as adverb & WRB \\
	\hline
\end{longtable}
\end{center}

El proceso de traducción de etiquetas consiste en intentar encontrar en la tabla la etiqueta \emph{Penn Treebank} correspondiente a la etiqueta específica de \emph{Cobuild} (en el ejemplo anterior\emph{qualitative adjective}), si no fuera el caso se busca \emph{Penn Treebank} correspondiente a la etiqueta general \emph{Cobuild}(\emph{adjective} para el ejemplo).

Utilizando este método se logró traducir aproximadamente el 99.26\% de las etiquetas.

Finalizado este proceso, se verificó que el etiquetado haya sido correcto: se realizó una rutina que etiquetara automáticamente todos los ejemplos de Cobuild (utilizando el etiquetador TnT) y se generó una matriz de confusión comparando las etiquetas extraídas y traducidas provenientes de Cobuild contra las asignadas por TnT. 

El resultado fué de 71\% de aciertos. Se analizaron las etiquetas que diferían, luego se corrigieron las traducciones y se ajustaron los algoritmos de extracción y traducción de etiqueteas hasta alcanzar un grado de error mínimo. 

Los mayores focos de error que no pudieron ser aplacados corresponden a palabras etiquetadas como VBD cuando son VBN y viceversa. Estas etiquetas son difícilmente desambigüables automáticamente.

\subsection{Recuperación de precisión gramatical} 
Una vez obtenidos los ejemplos con las etiquetas traducidas a Penn Treebank, se realiza un nuevo proceso para recuperar precisión gramatical perdida en la traducción: se comparan las etiquetas traducidas contra las etiquetas asignadas automáticamente por TnT. En caso de coincidir y en caso de que la etiqueta TnT aporte  mayor precisión, se asigna esta última. Se utilizó el siguiente algoritmo:

\floatname{algorithm}{Algoritmo}
\begin{algorithm}[H]
\caption{Obtener la etiqueta de mayor detalle gramatical}
\begin{algorithmic}
\REQUIRE Etiqueta obtenida de Cobuild, etiqueta asignada por TnT
\STATE
\STATE Si se obtuvo de Cobuild la etiqueta:
\STATE
\STATE \textbf{NN} y TnT asignó \textbf{NNS, NNP o NNPS}: Asignar la etiqueta TnT
\STATE
\STATE \textbf{NNS} y TnT asignó \textbf{NNPS}: Asignar la etiqueta NNPS
\STATE
\STATE \textbf{VB} y TnT asignó \textbf{VBN, VBD, VBZ, VBP o VBG}: Asignar la etiqueta TnT
\STATE
\STATE \textbf{JJ} y TnT asignó \textbf{JJR o JJS}: Asignar la etiqueta TnT
\STATE
\STATE \textbf{RB} y TnT asignó \textbf{RBR o RBS}: Asignar la etiqueta TnT
\STATE
\STATE \textbf{WP} y TnT asignó \textbf{WP\$}: Asignar la etiqueta WP\$
\STATE
\STATE \textbf{PRP} y TnT asignó \textbf{PRP\$}: Asignar la etiqueta PRP\$
\STATE
\end{algorithmic}
\end{algorithm}

A continuación se exhiben ejemplos de este proceso:

\begin{center}
\begin{frame}

\emph{
	\begin{tabular}{|l|l|}
	\hline
  \multicolumn{2}{|c|}{ Etiqueta extraída de Cobuild} \\
  \hline
	It& \\
cannot& \\
produce& \\
enough& \\
heat& \\
to& \\
activate	& \textbf{VB}\\
the& \\
electrons& \\
.& \\
	\hline
	\end{tabular}
	$\longrightarrow$	
	\begin{tabular}{|l|l|}	
	\hline
  \multicolumn{2}{|c|}{ Etiquetado automático} \\
  \hline
	It& \\
cannot& \\
produce& \\
enough& \\
heat& \\
to& \\
activate	& \textbf{VBP}\\
the& \\
electrons& \\
.& \\
	\hline
	\end{tabular}}	
\end{frame}
\end{center}


\begin{center}
\begin{frame}

	\emph{
	\begin{tabular}{|l|l|}
	\hline
  \multicolumn{2}{|c|}{ Etiqueta extraída de Cobuild} \\
  \hline
	Armed& \\
with& \\
this& \\
information& \\
,& \\
parents& \\
will& \\
be& \\
better	&\textbf{RB} \\
able& \\
to& \\
cater& \\
for& \\
their& \\
childrens& \\
needs& \\
...& \\
	\hline
	\end{tabular}
	$\longrightarrow$	
	\begin{tabular}{|l|l|}	
	\hline
  \multicolumn{2}{|c|}{Etiquetado automático} \\
  \hline
	Armed& \\
with& \\
this& \\
information& \\
,& \\
parents& \\
will& \\
be& \\
better	&\textbf{RBR} \\
able& \\
to& \\
cater& \\
for& \\
their& \\
childrens& \\
needs& \\
...& \\
	\hline
	\end{tabular}}
\end{frame}
\end{center}


\begin{center}
\begin{frame}
	
	\emph{
	\begin{tabular}{|l|l|}
	\hline
  \multicolumn{2}{|c|}{Etiqueta extraída de Cobuild} \\
  \hline
	They& \\
have& \\
their& \\
first& \\
degrees& \\
and& \\
are& \\
studying& \\
for& \\
higher	& \textbf{JJ}\\
degrees& \\
...& \\
	\hline
	\end{tabular}
	$\longrightarrow$	
	\begin{tabular}{|l|l|}	
	\hline
  \multicolumn{2}{|c|}{ Etiquetado automático} \\
  \hline
They& \\
have& \\
their& \\
first& \\
degrees& \\
and& \\
are& \\
studying& \\
for& \\
higher	& \textbf{JJR}\\
degrees& \\
...& \\
	\hline
	\end{tabular}}	
\end{frame}
\end{center}

En los ejemplos presentados se puede observar como el etiquetado automático aporta información gramatical perdida en el proceso de traducción de etiquetas.

El análisis de comparación contra las etiquetas asignadas por TnT dió un 86\% de aciertos luego de ejecutado este proceso.

Cabe destacar que más allá de los esfuerzos por preservar la información gramatical, inevitablemente se generó una pérdida de información semántica durante el proceso de traducción ya que las etiquetas \emph{Penn Treebank} son menos específicas que las etiquetas de Cobuild. En otras palabras, las etiquetas \emph{Penn Treebank} carecen del rico detalle lingüístico que las etiquetas Cobuild poseen, originando una pérdida natural de información en la traducción.

\subsection{Reconocimiento de formas flexionadas} 
Las entradas de Cobuild exponen formas flexionadas de la palabra: plurales, pasados, etc. En muchas entradas ocurre la palabra que se está definiendo, uno o más ejemplos en donde ésta aparece con cierto sentido (indicado por medio de etiquetas gramaticales) pero dentro de los ejemplos hay apariciones de formas flexionadas. 

El objetivo entonces es reconocer y registrar esta información, o dicho de otra manera, obtener información gramatical implícita.

Tomemos la siguiente entrada:\\ 

\noindent
\begin{minipage}{\linewidth}
\begin{footnotesize} 
\verb#DICTIONARY_ENTRY# \\
\verb#celebrate#  $\longrightarrow$ \textsl{palabra}\\
\verb#celebrates, celebrating, celebrated# $\longrightarrow$ \textsl{formas flexionadas}\\
\verb#s*!el%e1bre!it# $\longrightarrow$ {\footnotesize \textsl{pronunciación}}\\
\verb#If you celebrate someone or something, you praise them for their good qualities;#\\
\verb#a fairly formal use.# $\longrightarrow$ \textsl{definición}\\
\verb#People were celebrating him as a bright alternative to Nixon.# $\longrightarrow$ \textsl{ejemplo}\\
\verb#verb + object, or verb + object + adjunct (as/for)# $\longrightarrow$ \textsl{etiqueta específica}\\
\verb#verb# $\longrightarrow$ \textsl{etiqueta general}\\
\end{footnotesize} 
\end{minipage}

Aquí arriba se puede observar una entrada del diccionario para la palabra \emph{celebrate}, que contiene la definición y un ejemplo en donde aparece la forma derivada \emph{celebrating} junto a una etiqueta gramatical asociada:\\

\emph{\small People were \textbf{celebrating} him as a bright alternative to Nixon.}\\

En la entrada presentada la palabra definida es \emph{celebrate} y las formas derivadas son \emph{celebrates, celebrating} y \emph{celebrated}. Con esta información y la etiqueta asignada por Cobuild en el ejemplo (\emph{verb + object, or verb + object + adjunct (as/for)}) se pueden inferir y generar etiquetas \emph{Penn Treebank} para las formas derivadas. 

En vez de guardar la etiqueta \emph{Penn Treebank} VB correspondiente a \emph{verb} para la palabra \emph{celebrating}, guardaríamos la etiqueta VBG\footnote{verbo gerundio o presente participio} que contiene más información gramatical.

La tarea aquí será reconocer \emph{celebrating} como verbo gerundio o presente participio a partir de que está etiquetada como verbo y que deriva de \emph{celebrate}. Es decir, inferir el tipo de la forma derivada a partir de la palabra y la etiqueta asignada por Cobuild.

En este sentido se desarrollaron reglas y métodos para aprovechar toda la información presente. Entonces, a partir la palabra, la forma en que ocurre y la etiqueta asignada se aplican las siguientes reglas para reconocer etiquetas gramaticales para formas flexionadas:

\floatname{algorithm}{Algoritmo}
\begin{algorithm}[H]
\caption{Reconocimiento de formas flexionadas}
\begin{algorithmic}
\REQUIRE Etiqueta asignada por Cobuild, forma flexionada
\STATE
\STATE Traducir la etiqueta asignada por Cobuild a PenTreeBank
\STATE Si la etiqueta obtenida es
\STATE
\STATE \textbf{JJ}:
\STATE\hspace{\algorithmicindent} Si la forma termina en \textsl{er} o empieza en \textsl{more} o \textsl{less} aplicar \textbf{JJR}
\STATE\hspace{\algorithmicindent} Si la forma termina en \textsl{est} o empieza en \textsl{most} o \textsl{least} aplicar \textbf{JJS}
\STATE
\STATE \textbf{RB}:
\STATE\hspace{\algorithmicindent}Si la forma termina en \textsl{er} o empieza en \textsl{more} o \textsl{less} aplicar \textbf{RBR}
\STATE\hspace{\algorithmicindent}Si la forma termina en \textsl{est} o empieza en \textsl{most} o \textsl{least} aplicar \textbf{RBS}
\STATE
\STATE \textbf{NN}:
\STATE\hspace{\algorithmicindent} Si la forma termina en \textsl{s} aplicar \textbf{NNS}
\STATE
\STATE \textbf{VB}:
\STATE\hspace{\algorithmicindent} Si la forma termina en \textsl{ed} aplicar \textbf{VBD$|$VBN}

\STATE\hspace{\algorithmicindent} Si la forma termina en \textsl{ing} aplicar \textbf{VBG}
\STATE\hspace{\algorithmicindent} Si la forma termina en \textsl{s} aplicar \textbf{VBZ}
\end{algorithmic}
\end{algorithm}

A continuación se presentan algunos ejemplos del resultado de aplicar este proceso:\\

\begin{samepage}
\noindent 
1. Forma derivada \emph{celebrating} inferida como VBG a partir de la palabra \emph{celebrate} y la etiqueta VB:\\

\noindent
\begin{footnotesize}
\begin{Verbatim}[samepage=true]
DICTIONARY_ENTRY
celebrate
celebrates, celebrating, celebrated
s*!el%e1bre!it    
If you celebrate someone or something, you praise them for their good qualities; 
a fairly formal use.
People were celebrating him as a bright alternative to Nixon.
verb + object, or verb + object + adjunct (as/for)
verb                                
\end{Verbatim}
\end{footnotesize}

\noindent 
\textbf{Resultado:} \emph{\small People were celebrating/\textbf{VBG} him as a bright alternative to Nixon.}\\
\end{samepage}

\begin{samepage}
\noindent 
2. Forma derivada \emph{faults} inferida como NNS a partir de la palabra \emph{fault} y la etiqueta NN:

\begin{footnotesize}
\begin{Verbatim}[samepage=true]
DICTIONARY_ENTRY
fault
faults, faulting, faulted
f*!o*:lt    
A fault on a machine or in a structure is a broken part or a mistake in 
the way it was made.
Send it back to the manufacturer if the machine develops the same fault... 
Technicians laboriously tried to find and remedy faults.
countable noun
noun                                
\end{Verbatim}
\end{footnotesize}

\noindent 
\textbf{Resultado:} \emph{\small Technicians laboriously tried to find and remedy faults/\textbf{NNS}.}\\
\end{samepage}

\begin{samepage}
\noindent 
3. Forma derivada \emph{larger} inferida como JJR a partir de la palabra \emph{large} y la etiqueta JJ:

\begin{footnotesize}
\begin{Verbatim}[samepage=true]
DICTIONARY_ENTRY
large
larger, largest
l*%a*:d!z    
If you say that someone or something is larger than life, you mean that they 
appear or behave in a way that seems more important or exaggerated than usual.
The central character is a larger than life, cantankerous New Englander... 
...a larger-than-life version of our present society.
classifying adjective
adjective                                
\end{Verbatim}
\end{footnotesize}

\noindent 
\textbf{Resultado:} \emph{\small The central character is a larger/\textbf{JJR} than life, cantankerous New Englander...}
\end{samepage}

